<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>登录注册页面</title>
    <script src="{{ url_for('static',filename='script/jquery.min.js') }}"></script>
    <script src="{{ url_for('static',filename='script/socket.io.js') }}"></script>
    <script src="{{ url_for('static',filename='script/av-min.js') }}"></script>
    <script src="{{ url_for('static',filename='script/user.js') }}"></script>
    <script src="{{ url_for('static',filename='script/LoginAnimation.js') }}"></script>
    <link rel="stylesheet" href="../static/style/LogInAndSignUp.css">
</head>
<body>
<p id="result"></p>
<div class="box" id="box">
    <div class="form-container sign-up-container">
        <!-- sign up form -->
            <h1>注册</h1>
            <!-- sign up input -->
            <!-- username -->
            <label>
                用户名:
                <input type="text" id="username">
            </label>
            <label>
                密码:
                <input type="password" id="password">
            </label>
            <label>
                确认密码:
                <input type="password" id="repassword"><span></span>
            </label>
            <label>
                电子邮箱:
                <input type="email" id="email"><span></span>
            </label>
            <label>
                电话:
                <input type="text" id="phone"><span></span>
            </label>
            <!-- sign up -->
            <button onclick="
                signUp($('#username').val(),null,null,$('#password').val(),function(user) {
                    alert('Register Successfully!');
                    window.location.href = document.referrer;
                document.getElementById('result').innerText='register success!';
                console.log(user)
                },function(error) {
                document.getElementById('result').innerText=error;
                console.log(error)
                })"
            >注册</button>
    </div>
    <div class="form-container sign-in-container">
        <!-- login form -->

            <h1 style="margin-bottom: 30px">登录</h1>
            <!-- login input -->
            <!-- username -->
            <label>
                用户名:
                <input type="text" id="username2">
            </label>
            <label>
                密码:
                <input type="password" id="password2">
            </label>
            <p><a href="{{ url_for('ch.resetPassword')}}" style="color: black">忘记密码?</a></p>
            <br>
            <!-- sign in button -->
            <button onclick="
                signInWithUsername($('#username2').val(),$('#password2').val(),function(user) {
                    alert('成功登录!');
                    window.location.href = document.referrer;
                    document.getElementById('result').innerText='login success!'
                    console.log(user);
                },function(error) {
                    alert('Fail to login.');
                    document.getElementById('result').innerText=error
                    console.log(error);
                })
            ">登录</button>

    </div>
    <div class="overlay-container">
        <div class="overlay">
            <div class="overlay-panel overlay-left">
                <h1>已经拥有账户?</h1>
                <p>用您的账户登录</p>
                <!-- jump to login part -->
                <button class="ghost" id="signInPage">Log In</button>
                <!-- link to index page -->
                <p><a href="{{ url_for('ch.index') }}">返回到首页</a></p>
            </div>
            <div class="overlay-panel overlay-right">
                <h1>还没有账户?</h1>
                <p>加入我们</p>
                <!-- jump to sign up page -->
                <button class="ghost" id="signUpPage">注册</button>
                <!-- link to index page -->
                <p><a href="{{ url_for('ch.index') }}">返回到首页</a></p>
            </div>
        </div>
    </div>
</div>
<script src="{{ url_for('static',filename='script/examine_en.js') }}"></script>

</body>
</html>
